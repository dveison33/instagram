<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>P√°gina com V√≠deo e M√∫sica de Fundo</title>
    <!-- Carregando Tailwind CSS para Estiliza√ß√£o -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Definindo a fonte Inter e garantindo que o v√≠deo preencha a tela */
        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            /* CORRE√á√ÉO: Removido overflow: hidden para evitar problemas em alguns navegadores m√≥veis */
        }
        #background-video {
            /* Fixa o v√≠deo na viewport e garante que ele cubra toda a √°rea */
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover; /* Garante que o v√≠deo preencha o container sem distor√ß√£o */
            z-index: -3; /* Z-index mais baixo, pois o Matrix √© -2 */
            /* Come√ßa o v√≠deo invis√≠vel e adiciona transi√ß√£o para fade-in */
            opacity: 0; 
            transition: opacity 1s ease-in;
        }
        /* Classe para transi√ß√£o de estados */
        .content-transition {
            transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
        }
        /* Garantindo que o overlay esteja sempre vis√≠vel no in√≠cio, cobrindo o v√≠deo e matrix */
        #overlay {
             z-index: -1; 
        }

        /* --- Estilo para o Canvas Matrix --- */
        #matrix-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2; /* Vis√≠vel atr√°s do overlay (-1), √† frente do v√≠deo (-3) */
            background: #000;
        }

        /* --- CSS para o Efeito de Digita√ß√£o (CORRIGIDO) --- */
        .typing-text {
            /* Corre√ß√£o: permite quebra de linha para responsividade */
            white-space: normal; 
            margin: 0 auto; /* Centraliza o texto */
            letter-spacing: .10em; /* Espa√ßamento de letra */
            display: inline-block; /* Ajuda a conter o texto e centralizar */
            max-width: 100%; /* Garante que respeite o limite do pai */
        }
        
        /* CORRE√á√ÉO CR√çTICA: O cursor (border-right) agora s√≥ aparece quando o elemento tem a classe 'typing-cursor' */
        .typing-text.typing-cursor {
            border-right: .15em solid #fde047; /* Cursor piscando (Amarelo) */
            animation: blink-caret .75s step-end infinite;
        }

        /* Anima√ß√£o de piscar do cursor */
        @keyframes blink-caret {
            from, to { border-color: transparent }
            50% { border-color: #fde047; } /* Cor amarela do cursor */
        }
    </style>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                }
            }
        }
    </script>
</head>
<body class="bg-gray-900">

    <!-- CANVAS PARA EFEITO MATRIX (Vis√≠vel antes do clique) -->
    <canvas id="matrix-canvas"></canvas>

    <!-- 1. V√çDEO DE FUNDO (Aparece DEPOIS do clique) -->
    <!-- CORRE√á√ÉO: playsinline garante que o v√≠deo toque em navegadores m√≥veis (iOS) -->
    <video id="background-video" autoplay loop muted playsinline poster="https://placehold.co/1920x1080/1a1a1a/cccccc?text=Carregando+Video" preload="auto">
        <!-- 
            !!! SUBSTITUA O LINK ABAIXO PELO SEU V√çDEO MP4 HOSPEDADO !!!
            O link abaixo √© apenas um v√≠deo de placeholder para demonstra√ß√£o.
        -->
         <source src="DF_CURSOS.mp4" type="video/mp4">
        Seu navegador n√£o suporta a tag de v√≠deo.
    </video>

    <!-- 2. M√öSICA DE FUNDO CUSTOMIZADA (OCULTA E INICIA AP√ìS INTERA√á√ÉO DO USU√ÅRIO) -->
    <audio id="background-audio" loop>
        <!-- 
            !!! SUBSTITUA O LINK ABAIXO PELA SUA M√öSICA MP3 HOSPEDADA !!!
            O √°udio DEVE ser um link p√∫blico para funcionar.
        -->
        <source src="musica.mp3" type="audio/mpeg">
        Seu navegador n√£o suporta a tag de √°udio.
    </audio>

    <!-- 3. CAMADA DE SOBREPOSI√á√ÉO SEMI-TRANSPARENTE (Para legibilidade do texto) -->
    <!-- Opacidade ajustada para bg-opacity-50 em telas pequenas e bg-opacity-70 em telas maiores. -->
    <div id="overlay" class="fixed inset-0 bg-black bg-opacity-50 md:bg-opacity-70"></div>

    <!-- 4. CONTE√öDO PRINCIPAL (Centralizado na tela) -->
    <main class="flex flex-col items-center justify-center h-screen text-white p-4">
        <!-- O card agora usa max-w-full no mobile e define o max-w-3xl no desktop -->
        <div id="intro-card" class="text-center w-full max-w-sm sm:max-w-md lg:max-w-3xl bg-white/10 backdrop-blur-sm p-8 md:p-12 rounded-xl shadow-2xl transition duration-500 transform scale-100">
            
            <!-- ESTADO INICIAL (Aparece no carregamento) -->
            <div id="initial-prompt" class="content-transition">
                <!-- T√≠tulos otimizados para tamanhos de tela (mobile vs desktop) -->
                <!-- O t√≠tulo agora √© um span que ser√° preenchido pelo JS -->
                <h1 class="text-3xl sm:text-4xl md:text-6xl font-extrabold mb-4 uppercase tracking-wider text-yellow-400">
                    <span id="typed-title" class="typing-text"></span>
                </h1>
                
                <!-- O subt√≠tulo tamb√©m ser√° preenchido pelo JS -->
                <p class="text-base sm:text-xl md:text-2xl font-light mb-8 text-gray-300 flex justify-center">
                    <!-- O span abaixo √© inicialmente vazio, e ter√° o texto digitado em sequ√™ncia -->
                    <span id="typed-text" class="typing-text"></span>
                </p>
                
                <!-- Cor do bot√£o para Amarelo -->
                <button 
                    id="start-button" 
                    class="bg-yellow-500 hover:bg-yellow-600 text-gray-900 font-bold py-3 px-8 rounded-full shadow-lg transition duration-300 transform hover:scale-105 active:scale-95 text-lg md:text-xl w-full sm:w-auto"
                >
                    Click para Entrar
                </button>
            </div>

            <!-- ESTADO DE NAVEGA√á√ÉO (Aparece AP√ìS o clique no bot√£o de entrar) -->
            <div id="navigation-buttons" class="content-transition opacity-0 hidden transform scale-95">
                
                <!-- O bloco da Imagem no TOPO -->
                <div class="mb-6 flex justify-center">
                    <img 
                        src="./foto1.png" 
                        alt="Logo ou Imagem de Perfil"
                        class="w-40 h-40 rounded-full border-4 border-white shadow-xl object-cover"
                        onerror="this.onerror=null; this.src='https://placehold.co/400x400/ff69b4/ffffff?text=ERRO:+NOME+OU+FORMATO+DO+ARQUIVO+FOTO1.PNG';"
                    />
                </div>
                <!-- FIM DO BLOCO MOVIDO -->

                <h2 class="text-2xl sm:text-3xl md:text-4xl font-semibold mb-6 text-gray-100">O que voc√™ procura hoje?</h2>
                
                <!-- Cont√™iner para os 3 novos bot√µes (Sempre em coluna) -->
                <div class="flex flex-col gap-4 justify-center mx-auto max-w-xs w-full">
                    
                    <!-- Bot√£o 1: ACESS√ìRIOS (Pink/Roxo Gradiente) -->
                    <button 
                        class="nav-button font-extrabold text-white py-4 px-6 rounded-xl shadow-xl transition duration-500 transform hover:scale-[1.03] hover:shadow-2xl active:scale-[0.98] text-lg w-full flex items-center justify-center space-x-3 
                               bg-gradient-to-r from-pink-600 to-purple-600 hover:from-pink-700 hover:to-purple-700"
                        data-action="acessorios"
                    >
                        <span class="text-2xl">üéß</span>
                        <span>Acess√≥rios para Celular</span>
                    </button>
                    
                    <!-- Bot√£o 2: MANUTEN√á√ïES (Ciano/Azul Gradiente) -->
                    <button 
                        class="nav-button font-extrabold text-white py-4 px-6 rounded-xl shadow-xl transition duration-500 transform hover:scale-[1.03] hover:shadow-2xl active:scale-[0.98] text-lg w-full flex items-center justify-center space-x-3 
                               bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600"
                        data-action="manutencoes"
                    >
                        <span class="text-2xl">üõ†Ô∏è</span>
                        <span>Manuten√ß√µes</span>
                    </button>
                    
                    <!-- Bot√£o 3: CURSOS (Laranja/Amarelo Gradiente) -->
                    <button 
                        class="nav-button font-extrabold text-white py-4 px-6 rounded-xl shadow-xl transition duration-500 transform hover:scale-[1.03] hover:shadow-2xl active:scale-[0.98] text-lg w-full flex items-center justify-center space-x-3 
                               bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600"
                        data-action="cursos"
                    >
                        <span class="text-2xl">üéì</span>
                        <span>Cursos</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Elemento para mostrar o status do √°udio (escondido inicialmente) -->
        <div id="audio-status" class="hidden absolute bottom-4 right-4 bg-gray-800/80 p-2 rounded-lg text-sm transition-opacity duration-500 cursor-pointer">
            <span>üîá</span> √Åudio Mudo
        </div>
    </main>

    <!-- 5. L√ìGICA JAVASCRIPT -->
    <script>
        
        // Dados dos textos a serem digitados
        const titleText = "Bem-vindo √† DF Celulares";
        const subText = "Prepare-se para uma nova experi√™ncia.";
        const typingSpeed = 75; // Milissegundos por caractere

        /**
         * Fun√ß√£o de utilidade para aplicar o efeito de digita√ß√£o a um elemento.
         * @param {string} elementId - ID do elemento HTML alvo.
         * @param {string} text - O texto completo a ser digitado.
         * @param {function} [callback] - Fun√ß√£o a ser chamada ap√≥s a conclus√£o da digita√ß√£o.
         */
        function typeText(elementId, text, callback) {
            const element = document.getElementById(elementId);
            if (!element) return;

            let i = 0;
            element.textContent = ''; // Limpa o conte√∫do antes de come√ßar
            element.classList.add('typing-cursor'); // Adiciona o cursor

            function typeWriter() {
                if (i < text.length) {
                    element.textContent += text.charAt(i);
                    i++;
                    setTimeout(typeWriter, typingSpeed);
                } else {
                    // Remove o cursor assim que a digita√ß√£o for conclu√≠da (AGORA REMOVE A BORDA TAMB√âM)
                    element.classList.remove('typing-cursor'); 
                    
                    if (callback) {
                        setTimeout(callback, 500); // Pequena pausa (0.5s) antes de chamar o pr√≥ximo passo
                    }
                }
            }
            typeWriter();
        }

        // Fun√ß√£o para iniciar a sequ√™ncia de digita√ß√£o (T√≠tulo -> Subt√≠tulo)
        function startSequentialTyping() {
            // 1. Inicia a digita√ß√£o do T√≠tulo (o cursor desaparece 0.5s depois)
            typeText('typed-title', titleText, () => {
                // 2. Ap√≥s a conclus√£o do T√≠tulo, inicia a digita√ß√£o do Subt√≠tulo (o cursor desaparece ao final)
                typeText('typed-text', subText);
            });
        }

        // --- L√ìGICA MATRIX ---
        const canvas = document.getElementById('matrix-canvas');
        const ctx = canvas.getContext('2d');

        let matrixInterval;
        const characters = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ!@#$%^&*()';
        let fontSize = 16;
        let columns;
        let drops;

        // Fun√ß√£o para ajustar o tamanho do Canvas e resetar as gotas
        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            columns = Math.floor(canvas.width / fontSize);
            drops = [];
            for (let x = 0; x < columns; x++) {
                drops[x] = 1; 
            }
        }

        // Fun√ß√£o principal de desenho do Matrix
        function drawMatrix() {
            // Fundo semi-transparente preto para rastro (0.05 √© a opacidade)
            ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            ctx.fillStyle = '#0F0'; // Cor verde Matrix
            ctx.font = fontSize + 'px monospace';

            for (let i = 0; i < drops.length; i++) {
                const text = characters.charAt(Math.floor(Math.random() * characters.length));
                
                // Desenha o caractere
                ctx.fillText(text, i * fontSize, drops[i] * fontSize);

                // Envia a "gota" de volta ao topo se atingir a parte inferior ou aleatoriamente
                if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) {
                    drops[i] = 0; 
                }

                // Move a "gota" para baixo
                drops[i]++;
            }
        }
        
        // Inicia a anima√ß√£o Matrix (30 FPS)
        function startMatrix() {
            resizeCanvas();
            matrixInterval = setInterval(drawMatrix, 33); 
        }
        
        // Adiciona listener para redimensionamento
        window.addEventListener('resize', resizeCanvas);


        document.addEventListener('DOMContentLoaded', () => {
            const video = document.getElementById('background-video');
            const audio = document.getElementById('background-audio');
            
            const startButton = document.getElementById('start-button');
            const initialPrompt = document.getElementById('initial-prompt');
            const navigationButtons = document.getElementById('navigation-buttons');
            const navButtons = document.querySelectorAll('.nav-button'); // Bot√µes de categoria
            
            const overlay = document.getElementById('overlay');
            const audioStatus = document.getElementById('audio-status');
            
            // NOVO: Flag para rastrear se o √°udio foi iniciado pelo usu√°rio (ap√≥s o clique)
            let isAudioStarted = false;

            // Inicia o efeito Matrix no carregamento
            startMatrix();
            // Inicia a sequ√™ncia de digita√ß√£o
            startSequentialTyping();

            // Tenta dar play no v√≠deo imediatamente (deve funcionar se estiver MUTED), mas ele est√° invis√≠vel
            // CORRE√á√ÉO CR√çTICA: Se a reprodu√ß√£o autom√°tica falhar, o v√≠deo tentar√° tocar ao clicar no bot√£o.
            video.play().catch(error => {
                console.warn("Autoplay do v√≠deo falhou. O v√≠deo tentar√° iniciar com o primeiro clique do usu√°rio.");
            });

            // Fun√ß√£o para alternar mudo (AGORA S√ì CONTROLA A M√öSICA CUSTOMIZADA)
            const toggleMute = () => {
                const isMuted = audio.muted;
                audio.muted = !isMuted; 

                if (!isMuted) {
                    audioStatus.innerHTML = '<span>üîá</span> Mudo';
                } else {
                    audioStatus.innerHTML = '<span>üîä</span> √Åudio Ligado';
                }
            };
            
            // L√≥gica disparada ao clicar no bot√£o 'Click para Entrar'
            startButton.addEventListener('click', () => {
                
                // Tenta dar play no v√≠deo novamente (agora for√ßado pela intera√ß√£o do usu√°rio)
                video.play().catch(e => {
                    console.error("Falha ao iniciar o v√≠deo mesmo com intera√ß√£o:", e);
                });

                // Para e esconde o Canvas Matrix
                clearInterval(matrixInterval);
                canvas.style.display = 'none'; // Esconde o canvas

                // Faz o v√≠deo aparecer com um fade-in suave
                video.style.opacity = '1';

                // 1. O v√≠deo (#background-video) continua MUTADO permanentemente.
                // 2. Toca APENAS a m√∫sica de fundo customizada (#background-audio).
                audio.play().then(() => {
                    isAudioStarted = true; // Define a flag como verdadeira
                }).catch(error => {
                    console.error("Falha ao iniciar o √°udio customizado: ", error);
                });

                // 3. Transi√ß√£o visual: Esconde o prompt inicial
                initialPrompt.classList.add('opacity-0', 'scale-90');
                
                setTimeout(() => {
                    initialPrompt.classList.add('hidden'); // Esconde totalmente o elemento inicial
                    
                    // 4. Mostra a navega√ß√£o
                    navigationButtons.classList.remove('hidden'); // Revela o container de navega√ß√£o
                    // Faz o fade-in e scale-up
                    navigationButtons.classList.remove('opacity-0', 'scale-95');
                    navigationButtons.classList.add('opacity-100', 'scale-100'); 
                    
                    // 5. Torna o overlay menos opaco (v√≠deo aparece mais)
                    overlay.classList.remove('bg-black', 'bg-opacity-70', 'bg-opacity-50');
                    overlay.classList.add('bg-black', 'bg-opacity-40'); 
                    
                    // 6. Mostra o indicador de status do √°udio
                    audioStatus.classList.remove('hidden');
                    audioStatus.innerHTML = '<span>üîä</span> √Åudio Ligado';

                    // 7. Adiciona funcionalidade de mudo no status
                    audioStatus.addEventListener('click', toggleMute);

                    // 8. Adiciona l√≥gica para os bot√µes de navega√ß√£o
                    navButtons.forEach(btn => {
                        btn.addEventListener('click', (e) => {
                            const action = e.currentTarget.getAttribute('data-action');
                            // Redireciona o usu√°rio para a p√°gina correspondente
                            window.location.href = `${action}.html`; 
                        });
                    });

                }, 300); // Deve ser igual ou maior que a dura√ß√£o da transi√ß√£o do elemento inicial
            }, { once: true });

            // NOVO: Listener para pausar/retomar a m√∫sica ao mudar a aba/janela
            document.addEventListener('visibilitychange', () => {
                // Apenas se o √°udio j√° foi iniciado e n√£o est√° no modo mudo manual
                if (isAudioStarted && !audio.muted) {
                    if (document.hidden) {
                        // P√°gina em segundo plano/minimizada: pausa
                        audio.pause();
                    } else {
                        // P√°gina ativa: tenta retomar a reprodu√ß√£o
                        // O catch √© importante pois o navegador pode bloquear o play() sem intera√ß√£o
                        audio.play().catch(e => console.log("√Åudio n√£o p√¥de ser retomado sem intera√ß√£o do usu√°rio."));
                    }
                }
            });
        });
    </script>

</body>
</html>
